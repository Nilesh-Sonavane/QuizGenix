<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:replace="~{base :: head}"></th:block>
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
</head>

<body>

    <aside th:replace="~{base :: admin-sidebar(page='logs')}"></aside>

    <main class="main-content">
        <h1>Quiz Generation Logs</h1>

        <div class="filter-bar">
            <div class="search-box">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" id="customSearch" placeholder="Search topic or user...">
            </div>
            <select class="filter-select" id="difficultyFilter">
                <option value="">All Difficulty</option>
                <option value="Easy">Easy</option>
                <option value="Medium">Medium</option>
                <option value="Hard">Hard</option>
            </select>
        </div>

        <div class="table-container">
            <table id="quizTable">
                <thead>
                    <tr>
                        <th>Quiz Details</th>
                        <th>Generated By</th>
                        <th>Difficulty</th>
                        <th>Questions</th>
                        <th>Date & Time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Java Spring Boot</strong><br><small style="color:var(--text-muted)">ID:
                                #QZ-1092</small></td>
                        <td>john@example.com</td>
                        <td><span class="badge bg-medium"
                                style="border: 1px solid #fbbf24; color: #fbbf24;">Medium</span></td>
                        <td>25</td>
                        <td>Dec 15, 10:30 AM</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

    <div th:replace="~{base :: scripts}"></div>

    <script>
        $(document).ready(function () {
            var table = $('#quizTable').DataTable({ "dom": 'rtip', "pageLength": 10 });
            $('#customSearch').on('keyup', function () { table.search(this.value).draw(); });
            $('#difficultyFilter').on('change', function () { table.column(2).search(this.value).draw(); });
        });
    </script>

</body>

</html>