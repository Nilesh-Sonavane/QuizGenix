<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{admin/base :: layout(~{::section}, 'Quiz Logs')}">

<head>
</head>

<body>

    <section>

        <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
        <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

        <style>
            /* --- PAGE SPECIFIC CSS --- */
            /* Reusing styles from users page for consistency */
        </style>

        <h1>Quiz Generation Logs</h1>

        <div class="filter-bar">
            <div class="search-box">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" id="customSearch" placeholder="Search topic or user...">
            </div>

            <select class="filter-select" id="difficultyFilter">
                <option value="">All Difficulty</option>
                <option value="Easy">Easy</option>
                <option value="Medium">Medium</option>
                <option value="Hard">Hard</option>
            </select>

            <select class="filter-select" id="questionsFilter">
                <option value="">All Q-Count</option>
                <option value="10">10 Qs</option>
                <option value="25">25 Qs</option>
                <option value="50">50 Qs</option>
            </select>
        </div>

        <div class="table-container">
            <table id="quizTable">
                <thead>
                    <tr>
                        <th>Quiz Details</th>
                        <th>Generated By</th>
                        <th>Difficulty</th>
                        <th>Questions</th>
                        <th>Date & Time</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <strong>Java Spring Boot</strong><br>
                            <small style="color:#94a3b8">ID: #QZ-1092</small>
                        </td>
                        <td>john@example.com</td>
                        <td><span class="badge bg-medium">Medium</span></td>
                        <td>25</td>
                        <td>Dec 15, 10:30 AM</td>
                        <td>
                            <div class="action-icons">
                                <button class="icon-btn" title="View Questions">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <strong>React Hooks</strong><br>
                            <small style="color:#94a3b8">ID: #QZ-1093</small>
                        </td>
                        <td>alex@demo.com</td>
                        <td><span class="badge bg-hard">Hard</span></td>
                        <td>10</td>
                        <td>Dec 15, 11:45 AM</td>
                        <td>
                            <div class="action-icons">
                                <button class="icon-btn" title="View Questions">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <strong>Python Basics</strong><br>
                            <small style="color:#94a3b8">ID: #QZ-1094</small>
                        </td>
                        <td>rahul@spam.com</td>
                        <td><span class="badge bg-easy">Easy</span></td>
                        <td>50</td>
                        <td>Dec 14, 09:15 AM</td>
                        <td>
                            <div class="action-icons">
                                <button class="icon-btn" title="View Questions">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <script>
            $(document).ready(function () {
                var table = $('#quizTable').DataTable({
                    "dom": 'rtip',
                    "pageLength": 10,
                    "ordering": true,
                    "language": {
                        "info": "Showing _START_ to _END_ of _TOTAL_ logs",
                        "paginate": { "next": ">", "previous": "<" }
                    }
                });

                // Connect Filters
                $('#customSearch').on('keyup', function () { table.search(this.value).draw(); });
                $('#difficultyFilter').on('change', function () { table.column(2).search(this.value).draw(); });
                $('#questionsFilter').on('change', function () { table.column(3).search(this.value).draw(); });
            });
        </script>

    </section>

</body>

</html>